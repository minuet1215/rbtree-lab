# RB Tree (균형이진탐색트리)

<hr>

- 레드블랙 트리(red-black tree)는 이진 검색 트리로서 각 노드당 한 비트(노드의 색깔)의 추가 기억 공간을 가진다.
- 루트에서 리프까지의 경로에 나타나는 노드의 색깔을 제한함으로써, 그러한 경로 중 어떠한 것도 다른 것보다 두 배 이상 길지 않음을 보장
- 근사적으로 균형을 이룬 트리

<hr>

## 레드블랙 특성
1. 모든 노드는 적색이거나 흑색
2. 루트는 흑색
3. 모든 리프(NIL)<sup>[1](#footnote_1)</sup> 은 흑색
4. 노드가 적색이면 그 노드의 자식은 모두 흑색 (역은 상관없음)
5. 각 노드로부터 리프 노드로 가는 경로들은 모두 같은 수의 흑색 노드를 포함 (높이는 항상 O(logN)을 만족)

> RB Tree에서 한계 조건을 다루기 편하도록 NIL을 표현하기 위해 하나의 `경계 노드(sentinel, T.nil)`를 사용

>> 트리의 다른 보통의 노드와 마찬가지로 동일한 필드를 가진다.

>> 이 노드의 color 필드는 흑색이지만, p, left, right, key 등의 필드 값은 의미를 갖지 않는다.

>> 모든 NIL을 가리키는 포인터는 경계 노드 T.nil를 가리키도록 변경된다.

>> 경계 노드를 이용함으로써 노드 x의 NIL 자식을 x의 정상적인 자식 노드와 동일하게 다룰 수 있게 된다.

>> 트리 내 각각의 NIL을 위해서 개별적인 경계 노드를 사용할 수도 있지만 이렇게 하면 저장 공간이 낭비된다.

>> 대신 하나의 경계 노드 T.nil를 두어서 모든 NIL, 즉 모든 리프와 루트의 부모를 표현하게 된다. 경계 노드의 필드 p, left, right, key 등은 프로시저의 수행 과정에서 값이 채워질 수도 있으나 이는 의미를 갖지 않는다.

<hr>

## 레드블랙 트리에서 관심 대상은 키값을 가지는 내부 노드다.
- 한 노드 x에서 리프까지의 경로에 있는 모든 흑색 노드(x 자신은 제외)의 개수를 그 **노드의 흑색 높이(black-height)** 라 하고 bh(x)로 표시
- 한 노드로부터 내려가는 모든 경로는 같은 개수의 흑색 노드를 가지므로 흑색 높이는 잘 정의된다.
- 레드 블랙 트리의 흑색 높이는 루트의 흑색 높이로 정의한다.

```

```

<a name="footnote_1">NIL</a>: NULL, NONE과 같음
